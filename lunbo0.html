<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/lunbo0.css">
</head>
<body>

<div class="lun-box">
    <div class="left"></div>
    <div class="right"></div>
    <div class="lun-pics clear" style="left: 0;">
        <div class="lun-pic">
            <img src="images/0.jpg" alt="">
        </div>
        <div class="lun-pic">
            <img src="images/1.jpg" alt="">
        </div>
        <div class="lun-pic">
            <img src="images/2.jpg" alt="">
        </div>
    </div>
    <!-- <ul class="dot">
         <li></li>
         <li></li>
         <li></li>
     </ul>-->


</div>


<script>


    var lunPics = document.getElementsByClassName("lun-pics")[0];
    var lunPic = document.getElementsByClassName("lun-pic");
    var left = document.getElementsByClassName("left")[0],
        right = document.getElementsByClassName("right")[0];
    var num = 0;
    var move;

    /*
    var h1 = lunPic[0].offsetHeight;
    var img = lunPic[0].getElementsByTagName("img")[0];
    var h2 = img.offsetHeight;
    var marginT = h1 / 2 - h2 / 2 + "px";

    console.log(img);
        window.onresize = function () {
            changeIH();
        };

    function changeIH() {
        for (var i = 0; i < lunPic.length; i++) {
            if (lunPic[i].getElementsByTagName("img")) {
                img.style.marginTop = marginT;
            }
        }
    }
    changeIH();*/


//    move = setInterval(play,5000);
    function play() {
        num++;
        lunPics.style.left = -num * 100 + "%";
        if (num > lunPic.length - 1) {
            lunPics.style.left = "0";
            num = 0;
        }
    }




    left.onclick = function () {
        clearInterval(move);
        num--;
        lunPics.style.left = num * 100 + "%";
        if (num < 0) {
            lunPics.style.left = -(lunPic.length-1) * 100+"%";
            num = lunPic.length - 1;
        }else {
            lunPics.style.left = -num * 100 + "%";
        }
    };
    right.onclick = function () {
        clearInterval(move);
        play();
        console.log("right");
    };

//    right.addEventListener("mouseout",function () {
//        move = setInterval(play,2000);
//
//    });
//    left.addEventListener("mouseout",function () {
//        move = setInterval(play,2000);
//
//    })


    /*这是封装的*/
    function clickListen(eleArr,clickType,fun) {
        for(var key in eleArr){
            document.querySelector(eleArr[key]).addEventListener(clickType,fun);
        }
    }
    /*这是你要绑定的同一个函数*/
    function clickEvent(){
        console.log('val');
    }
    /*参数说明:绑定的元素   绑定的时间   回调的函数*/
    clickListen(['.left','.right'],'mouseout',function () {
        move = setInterval(play,5000);
    });

    for(var key in ['.left','.right']){
//        document.querySelector(['.left','.right'][key]);
        console.log(['.left','.right'][key]);
    }



</script>
</body>
</html>